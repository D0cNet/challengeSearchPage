<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!--
      Modifying any <head> attributes of the page locally (including the title attribute) will have no effect when the page is uploaded to the Coveo platform.
      If you wish to modify the page title, you should modify the `name` property defined in the coveo.deploy.json configuration file.
    -->
    <title>ChallengeSearchPage</title>
    <link
      href="https://static.cloud.coveo.com/atomic/v3/themes/coveo.css"
      rel="stylesheet"
    />
    <link href="/build/challengeSearchPage.css" rel="stylesheet" />
    <!-- 
      When using the Coveo CDN - Make sure you're using the same minor version as the packaged Atomic.
      E.g., if you have "@coveo/atomic@2.0.0" installed, use the "/atomic/v2.0.0/" path.
      When deploying with the Coveo CLI, the Atomic CDN defined in the coveo.deploy.json configuration file will be used.
    
      <script type="module" src="https://static.cloud.coveo.com/atomic/vMAJOR.MINOR/atomic.esm.js"></script> 
    -->
    <!-- Custom Elements Lazy Loading -->
    <script type="module" src="/build/challengeSearchPage.esm.js"></script>
    <!-- Global initialization script -->
    <script type="module" src="/build/index.esm.js"></script>
    <!--
      To import modules from `@coveo/headless`, you need to do so from a TypeScript file and use npm specifier `@coveo/headless` (or one of its subpath exports when relevant).
      import { buildSearchEngine } from "@coveo/headless";
    </script> -->

  </head>
  <body>
    <!-- 
      This is a non-functional element.
      Contents of this element will be parsed and injected in the bundle's HTML when deploying.
    -->
    <atomic-hosted-page>
       <atomic-search-interface id="search" pipeline="Product Pipeline"  search-hub="Coveo SA Challenge" analytics="true"  fields-to-include='["product_thumbnail", "price", "product_category", "availability"]'>
      <atomic-search-layout> 
      <!-- all Atomic components will go in here -->
       <atomic-layout-section section="search">
        <atomic-search-box>
           <atomic-search-box-query-suggestions max-with-query="5" max-without-query="3"></atomic-search-box-query-suggestions>
          
        </atomic-search-box>
       </atomic-layout-section>
       <atomic-layout-section section="facets">
        <atomic-facet-manager> 
          <atomic-facet
            field="product_category"
            label="Product Category"
          ></atomic-facet> 
           <atomic-numeric-facet field="price" label="Price">
              <atomic-format-currency currency="CAD"></atomic-format-currency>
          </atomic-numeric-facet>
          <atomic-facet
            field="availability"
            label="Availability"
          ></atomic-facet>
        </atomic-facet-manager>
       </atomic-layout-section>
       <atomic-layout-section section="main">
        <atomic-layout-section section="results">
        
            <atomic-result-list
              display="list" 
              density="normal" 
              image-size="icon"
             >

             <atomic-result-template>
              
             <template>
            
            
             <atomic-result-section-visual image-size="small">
            
              <atomic-result-image 
                image-mode="thumbnail"
                field="product_thumbnail"
                fallback="https://example.com/placeholder.png">
                
              </atomic-result-image> </atomic-result-section-visual>
             <atomic-result-section-title>
                <atomic-result-link></atomic-result-link>
             </atomic-result-section-title>
             <atomic-result-section-bottom-metadata>
               
                <atomic-result-number field="price">
                    <atomic-format-currency currency="CAD"></atomic-format-currency>
                </atomic-result-number>
                <atomic-result-multi-value-text delimiter=" | " field="product_category"></atomic-result-multi-value-text>
                <atomic-result-multi-value-text field="availability"></atomic-result-multi-value-text>
              
            </atomic-result-section-bottom-metadata>
             
             </template>
             
            </atomic-result-template>
          </atomic-result-list>

        </atomic-layout-section>
        <atomic-layout-section section="pagination">
          <atomic-load-more-results></atomic-load-more-results>
        </atomic-layout-section>
       </atomic-layout-section>
      </atomic-search-layout>
      </atomic-search-interface>

    </atomic-hosted-page>
  </body>
</html>
